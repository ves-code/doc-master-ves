<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>PLUMED: Lugano tutorial: Dimensionality reduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.6.0-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('lugano-5.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Lugano tutorial: Dimensionality reduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="lugano-5-aim"></a>
Aims</h1>
<p>This tutorial will show you how to you can use PLUMED to perform dimensionality reduction. The tutorial will try not to focus on the application of one particular algorithm but will instead try to show you the principles behind the implementation of these algorithms that has been adopted within PLUMED. By the end of the tutorial you will thus be able to design your own dimensionality reduction algorithm. <br />
 </p>
<h1><a class="anchor" id="lugano-5-lo"></a>
Objectives</h1>
<p>Once this tutorial is completed students will</p>
<ul>
<li>Be able to use <a class="el" href="_c_o_l_l_e_c_t__f_r_a_m_e_s.html">COLLECT_FRAMES</a> to store a trajectory for later analysis</li>
<li>Be able to use <a class="el" href="_p_c_a.html">PCA</a> to perform principal component analysis</li>
<li>Be able to construct a dissimilarity matrix using <a class="el" href="_e_u_c_l_i_d_e_a_n__d_i_s_s_i_m_i_l_a_r_i_t_i_e_s.html">EUCLIDEAN_DISSIMILARITIES</a></li>
<li>Be able to select a subset of landmark points to analyze with particular dimensionality reduction algorithm.</li>
<li>Be able to construct low dimensional representations using <a class="el" href="_c_l_a_s_s_i_c_a_l__m_d_s.html">CLASSICAL_MDS</a> and <a class="el" href="_s_k_e_t_c_h__m_a_p.html">SKETCH_MAP</a>.</li>
<li>Be able to generate projections of non-landmark points by using <a class="el" href="_p_r_o_j_e_c_t__a_l_l__a_n_a_l_y_s_i_s__d_a_t_a.html">PROJECT_ALL_ANALYSIS_DATA</a></li>
</ul>
<h1><a class="anchor" id="lugano-5-resources"></a>
Resources</h1>
<p>The <span style="background-color:yellow"><a href="tutorial-resources/lugano-5.tar.gz" style="font-weight:bold" style="color:green" download="lugano-5.tar.gz">TARBALL </a> </span> for this project contains the following files:</p>
<ul>
<li>beta-hairpin.pdb : A pdb file containing the protein that we are going to study in this tutorial in a beta hairpin configuration. This input will be used as a template so that we can use the names of special groups in many of the inputs that follow.</li>
</ul>
<p>In addition, you will also need to get a copy of the trajectory that we will be analyzing in this tutorial by executing the following command:</p>
<pre class="fragment">wget https://github.com/plumed/lugano2019/raw/master/handson_5/traj.dcd
</pre><p>The trajectory we are analyzing is a smaller version of the trajectory that was analyzed in the following paper:</p>
<ul>
<li><a href="https://www.frontiersin.org/articles/10.3389/fmolb.2019.00046/full">https://www.frontiersin.org/articles/10.3389/fmolb.2019.00046/full</a></li>
</ul>
<p>In this paper the trajectory was analyzed with a variety of different dimensionality reduction algorithms and the results were compared. The paper may, therefore, be of interest.</p>
<p>This tutorial has been tested on v2.5 but it should also work with other versions of PLUMED.</p>
<p>Also notice that the <code>.solutions</code> direction of the tarball contains correct input files for the exercises. Please only look at these files once you have tried to solve the problems yourself. Similarly the tutorial below contains questions for you to answer that are shown in bold. You can reveal the answers to these questions by clicking on links within the tutorial but you should obviously try to answer things yourself before reading these answers.</p>
<h1><a class="anchor" id="lugano-5-intro"></a>
Introduction</h1>
<p>In all of the previous tutorials we have used functions that take the position of all the atoms in the system - a \(3N\) dimensional vector, where \(N\) is the number of atoms as input. This function then outputs a single number - the value of the collective variable - that tells us where in a low dimensional space we should project that configuration. Problems can arise because this collective-variable function is many-to-one and it may thus be difficult to distinguish between every different pair of structurally distinct conformers of our system.</p>
<p>In this tutorial we are going to introduce an alternative approach to this business of finding collective variables. In this alternative approach we are going to stop trying to seek out a function that can take any configuration of the atoms (any \(3N\)-dimensional vector) and find its low dimensional projection on the collective variable axis. Instead we are going to take a set of configurations of the atoms (a set of \(3N\)-dimensional vectors of atom positions) and try to find a sensible set of projections for these configurations. We are going to find this low dimensional representation by seeking out <a href="http://en.wikipedia.org/wiki/Isometry">an isometry </a> between the space containing the \(3N\)-dimensional vectors of atom positions and some lower-dimensional space. This idea is explained in more detail in the following <a href="https://www.youtube.com/watch?v=ofC2qz0_9_A&amp;feature=youtu.be">video </a> and details on the various algorithms that we are using in the tutorial can be found in:</p>
<ul>
<li><a href="https://arxiv.org/abs/1907.04170">https://arxiv.org/abs/1907.04170</a></li>
</ul>
<p>As you will find out if you read the chapter that is linked above there are multiple ways to construct an isometric embedding of a trajectory. This tutorial will thus try to teach you a set of basic ideas and will then encourage you to experiment and to develop your own strategy for representing the data set.</p>
<h1><a class="anchor" id="lugano-5-exercises"></a>
Exercises</h1>
<h2><a class="anchor" id="lugano-5-starting"></a>
Collecting the trajectory</h2>
<p>The first thing that we need to learn to do in order to run these dimensionality reduction algorithms is to store the trajectory so that we can analyze in later. The following input (once the blanks are filled in) will take the positions of the non-hydrogen atoms in our protein and store them every 1 step in an object that we can refer to later in the input using the label data. All the configurations stored in data will then be output to a pdb file once the whole trajectory is read in. Fill in the blanks in the input below now:</p>
<pre class="fragment">
<span style="color:blue"># This reads in the template pdb file and thus allows us to use the @nonhydrogens</span>
<span style="color:blue"># special group later in the input</span>
<a href="./_m_o_l_i_n_f_o.html" style="color:green">MOLINFO</a> STRUCTURE=<span style="background-color:yellow">__FILL__</span> MOLTYPE=protein

<span style="color:blue"># This stores the positions of all the nonhydrogen atoms for later analysis</span>
cc: <a href="./_c_o_l_l_e_c_t__f_r_a_m_e_s.html" style="color:green">COLLECT_FRAMES</a> <span style="background-color:yellow">__FILL__</span>=@nonhydrogens

<span style="color:blue"># This should output the atomic positions for the frames that were collected to a pdb file called traj.pdb</span>
<a href="./_o_u_t_p_u_t__a_n_a_l_y_s_i_s__d_a_t_a__t_o__p_d_b.html" style="color:green">OUTPUT_ANALYSIS_DATA_TO_PDB</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> FILE=traj.pdb
</pre><p>Then, once all the blanks are filled in, run the command using:</p>
<pre class="fragment">plumed driver --mf_dcd traj.dcd
</pre><p>Notice that the above input stored the atomic positions of the atoms. We can use the atomic positions in many of the dimensionality reductions that will be discussed later in this tutorial or we can use a high-dimensional vector of collective variables. The following input thus gives an example of which shows you can compute and store the values the Ramachandran angles of the protein took in all the trajectory frames so that they can be analyzed using a dimensionality reduction algorithm. Try to fill in the blanks on this input and then run this form of analysis on the trajectory using the command above once more:</p>
<pre class="fragment">
<span style="color:blue"># This reads in the template pdb file and thus allows us to use the @nonhydrogens</span>
<span style="color:blue"># special group later in the input</span>
<a href="./_m_o_l_i_n_f_o.html" style="color:green">MOLINFO</a> STRUCTURE=<span style="background-color:yellow">__FILL__</span> MOLTYPE=protein

<span style="color:blue"># The following commands compute all the Ramachandran angles of the protein for you</span>
r2-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> ATOMS=@phi-2
r2-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> ATOMS=@psi-2
r3-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> ATOMS=@phi-3
r3-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> ATOMS=@psi-3
r4-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span>
r4-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r5-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r5-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r6-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r6-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r7-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r7-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r8-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r8-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r9-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r9-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r10-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r10-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r11-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r11-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r12-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r12-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r13-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r13-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r14-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r14-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span>  
r15-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r15-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r16-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r16-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 

<span style="color:blue"># This command stores all the Ramachandran angles that were computed</span>
cc: <a href="./_c_o_l_l_e_c_t__f_r_a_m_e_s.html" style="color:green">COLLECT_FRAMES</a> <span style="background-color:yellow">__FILL__</span>=r2-phi,r2-psi,r3-phi,r3-psi,r4-phi,r4-psi,r5-phi,r5-psi,r6-phi,r6-psi,r7-phi,r7-psi,r8-phi,r8-psi,r9-phi,r9-psi,r10-phi,r10-psi,r11-phi,r11-psi,r12-phi,r12-psi,r13-phi,r13-psi,r14-phi,r14-psi,r15-phi,r15-psi,r16-phi,r16-psi 

<span style="color:blue"># This command outputs all the Ramachandran angles that were stored to a file called angles_data</span>
<a href="./_o_u_t_p_u_t__a_n_a_l_y_s_i_s__d_a_t_a__t_o__c_o_l_v_a_r.html" style="color:green">OUTPUT_ANALYSIS_DATA_TO_COLVAR</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> ARG=cc.* FILE=angles_data
</pre><h2><a class="anchor" id="lugano-5-pca"></a>
Performing PCA</h2>
<p>Having learned how to store data for later analysis with a dimensionality reduction algorithm lets now apply principal component analysis (PCA) upon our stored data. In principal component analysis a low dimensional projections for our trajectory are constructed by:</p>
<ul>
<li>Computing a covariance matrix from the trajectory data</li>
<li>Diagonalizing the covariance matrix.</li>
<li>Calculating the projection of each trajectory frame on a subset of the eigenvectors of the covariance matrix.</li>
</ul>
<p>To perform PCA using PLUMED we are going to use the following input with the blanks filled in:</p>
<pre class="fragment">
<span style="color:blue"># This reads in the template pdb file and thus allows us to use the @nonhydrogens </span>
<span style="color:blue"># special group later in the input</span>
<a href="./_m_o_l_i_n_f_o.html" style="color:green">MOLINFO</a> STRUCTURE=<span style="background-color:yellow">__FILL__</span> MOLTYPE=protein
  
<span style="color:blue"># This stores the positions of all the nonhydrogen atoms for later analysis</span>
cc: <a href="./_c_o_l_l_e_c_t__f_r_a_m_e_s.html" style="color:green">COLLECT_FRAMES</a> <span style="background-color:yellow">__FILL__</span>=@nonhydrogens
<span style="color:blue"># This diagonalizes the covariance matrix</span>
pca: <a href="./_p_c_a.html" style="color:green">PCA</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> METRIC=OPTIMAL NLOW_DIM=2
<span style="color:blue"># This projects each of the trajectory frames onto the low dimensional space that was </span>
<span style="color:blue"># identified by the PCA command</span>
dat: <a href="./_p_r_o_j_e_c_t__a_l_l__a_n_a_l_y_s_i_s__d_a_t_a.html" style="color:green">PROJECT_ALL_ANALYSIS_DATA</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> PROJECTION=<span style="background-color:yellow">__FILL__</span>

<span style="color:blue"># This should output the atomic positions for the frames that were collected and analyzed using PCA</span>
<a href="./_o_u_t_p_u_t__a_n_a_l_y_s_i_s__d_a_t_a__t_o__p_d_b.html" style="color:green">OUTPUT_ANALYSIS_DATA_TO_PDB</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> FILE=traj.pdb
<span style="color:blue"># This should output the PCA projections of all the coordinates</span>
<a href="./_o_u_t_p_u_t__a_n_a_l_y_s_i_s__d_a_t_a__t_o__c_o_l_v_a_r.html" style="color:green">OUTPUT_ANALYSIS_DATA_TO_COLVAR</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> ARG=dat.* FILE=pca_data

<span style="color:blue"># These next three commands calculate the secondary structure variables.  These </span>
<span style="color:blue"># variables measure how much of the structure resembles an alpha helix, an antiparallel beta sheet</span>
<span style="color:blue"># and a parallel beta sheet.  Configurations that have different secondary structures should be projected</span>
<span style="color:blue"># in different parts of the low dimensional space.</span>
alpha: <a href="./_a_l_p_h_a_r_m_s_d.html" style="color:green">ALPHARMSD</a> RESIDUES=all
abeta: <a href="./_a_n_t_i_b_e_t_a_r_m_s_d.html" style="color:green">ANTIBETARMSD</a> RESIDUES=all STRANDS_CUTOFF=1.0
pbeta: <a href="./_p_a_r_a_b_e_t_a_r_m_s_d.html" style="color:green">PARABETARMSD</a> RESIDUES=all STRANDS_CUTOFF=1.0

<span style="color:blue"># These commands collect and output the secondary structure variables so that we can use this information to </span>
<span style="color:blue"># determine how good our projection of the trajectory data is.</span>
cc2: <a href="./_c_o_l_l_e_c_t__f_r_a_m_e_s.html" style="color:green">COLLECT_FRAMES</a> ARG=alpha,abeta,pbeta
<a href="./_o_u_t_p_u_t__a_n_a_l_y_s_i_s__d_a_t_a__t_o__c_o_l_v_a_r.html" style="color:green">OUTPUT_ANALYSIS_DATA_TO_COLVAR</a> USE_OUTPUT_DATA_FROM=cc2 ARG=cc2.* FILE=secondary_structure_data
</pre><p>To generate the projection you run the command:</p>
<pre class="fragment">plumed driver --mf_dcd traj.dcd
</pre><p>I would recommend visualizing this data using the GISMO plugin to VMD. You can find instructions on how to compile this code on the page below:</p>
<p><a href="http://epfl-cosmo.github.io/sketchmap/index.html?page=code">http://epfl-cosmo.github.io/sketchmap/index.html?page=code</a></p>
<p>(you don't need to compile the sketch-map code) Once GISMO is installed you should have an option to open it when you open vmd. The option to open GISMO can be found under Extensions&gt;Analysis&gt;GISMO. To visualize the results from what we have just done you should need to follow the following instructions:</p>
<ul>
<li>Open vmd and load the pdb file that was output: traj.pdb</li>
<li>Open GISMO and load the pca projections file: pca_data</li>
<li>Open GISMO and load the secondary structure variables: secondary_structure_data</li>
<li>You can safely ignore the error message that GISMO will give at this stage.</li>
<li>Now choose to plot the quantities dat.coord-1 and dat.coord-2 on the x and y axis respectively. Color the points using cc2.alpha.</li>
</ul>
<p>If you follow the instructions above you should get an image like the one shown below:</p>
<p><a class="anchor" id="lugano-5-gismo"></a> </p><div class="image">
<img src="lugano-5-gismo.png" alt="lugano-5-gismo.png"/>
<div class="caption">
Figure created using GISMO that shows where each frame of the trajectory is projected in the low-dimensional space. Points are colored in accordance with the alpha helical content of the structure.</div></div>
<p> You can click on the various points in the plot and VMD will show you the structure in the corresponding trajectory frame. Furthermore, you can get a particularly useful representation of the structures by adding the following text to your ~/.vmdrc file:</p>
<pre class="fragment">user add key m {
  puts "Automatic update of secondary structure, and alignment to first frame"
  trace variable vmd_frame w structure_trace
  rmsdtt
  rmsdtt::doAlign
  destroy $::rmsdtt::w
  clear_reps top
  mol color Structure
  mol selection backbone
  mol representation NewCartoon
  mol addrep top
}
</pre><p>With this text in your ~/.vmdrc file VMD will align all the structures with the first frame and then show the cartoon representation of each structure when you press the m button on your keyboard</p>
<h2><a class="anchor" id="lugano-5-mds"></a>
Performing MDS</h2>
<p>In the previous section we performed PCA on the atomic positions directly. In the section before last, however, we also saw how we can store high-dimensional vectors of collective variables and then use these vectors as input to a dimensionality reduction algorithm. We might legitimately ask, therefore, if we can do PCA using these high-dimensional vectors as input rather than atomic positions. The answer to this question is yes as long as the CV is not periodic. If any of our CVs are not periodic we cannot analyze them using the <a class="el" href="_p_c_a.html">PCA</a> action. We can, however, formulate the PCA algorithm in a different way. In this alternative formulation, which is known as classical multidimensional scaling (MDS) we do the following:</p>
<ul>
<li>We calculate the matrix of distances between configurations</li>
<li>We perform an operation known as centering the matrix.</li>
<li>We diagonalize the centered matrix</li>
<li>The eigenvectors multiplied by the square root of the corresponding eigenvalue can then be used as a set of projections for our input points.</li>
</ul>
<p>This method is used less often the PCA as the matrix that we have to diagonalize here in the third step can be considerably larger than the matrix that we have to diagonalize when we perform PCA. In fact in order to avoid this expensive diagonalization step we often select a subset of so called landmark points on which to run the algorithm directly. Projections for the remaining points are then found by using a so-called out-of-sample procedure. This is what has been done in the following input:</p>
<pre class="fragment">
 This reads in the template pdb file and thus allows us to use the @nonhydrogens
<span style="color:blue"># special group later in the input</span>
<a href="./_m_o_l_i_n_f_o.html" style="color:green">MOLINFO</a> STRUCTURE=beta-hairpin.pdb MOLTYPE=protein

<span style="color:blue"># This stores the positions of all the nonhydrogen atoms for later analysis</span>
cc: <a href="./_c_o_l_l_e_c_t__f_r_a_m_e_s.html" style="color:green">COLLECT_FRAMES</a> ATOMS=@nonhydrogens
<span style="color:blue"># This should output the atomic positions for the frames that were collected and analyzed using MDS</span>
<a href="./_o_u_t_p_u_t__a_n_a_l_y_s_i_s__d_a_t_a__t_o__p_d_b.html" style="color:green">OUTPUT_ANALYSIS_DATA_TO_PDB</a> USE_OUTPUT_DATA_FROM=cc FILE=traj.pdb

<span style="color:blue"># The following commands compute all the Ramachandran angles of the protein for you</span>
r2-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> ATOMS=@phi-2
r2-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> ATOMS=@psi-2
r3-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> ATOMS=@phi-3
r3-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> ATOMS=@psi-3
r4-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r4-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r5-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r5-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r6-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r6-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r7-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r7-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r8-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r8-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r9-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r9-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r10-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span>
r10-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r11-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r11-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r12-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r12-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r13-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r13-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r14-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r14-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r15-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r15-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r16-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r16-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 

<span style="color:blue"># This command stores all the Ramachandran angles that were computed</span>
angles: <a href="./_c_o_l_l_e_c_t__f_r_a_m_e_s.html" style="color:green">COLLECT_FRAMES</a> <span style="background-color:yellow">__FILL__</span>=r2-phi,r2-psi,r3-phi,r3-psi,r4-phi,r4-psi,r5-phi,r5-psi,r6-phi,r6-psi,r7-phi,r7-psi,r8-phi,r8-psi,r9-phi,r9-psi,r10-phi,r10-psi,r11-phi,r11-psi,r12-phi,r12-psi,r13-phi,r13-psi,r14-phi,r14-psi,r15-phi,r15-psi,r16-phi,r16-psi
<span style="color:blue"># Lets now compute the matrix of distances between the frames in the space of the Ramachandran angles</span>
distmat: <a href="./_e_u_c_l_i_d_e_a_n__d_i_s_s_i_m_i_l_a_r_i_t_i_e_s.html" style="color:green">EUCLIDEAN_DISSIMILARITIES</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> METRIC=EUCLIDEAN
<span style="color:blue"># Now select 500 landmark points to analyze</span>
fps: <a href="./_l_a_n_d_m_a_r_k__s_e_l_e_c_t__f_p_s.html" style="color:green">LANDMARK_SELECT_FPS</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> NLANDMARKS=500
<span style="color:blue"># Run MDS on the landmarks</span>
mds: <a href="./_c_l_a_s_s_i_c_a_l__m_d_s.html" style="color:green">CLASSICAL_MDS</a> <span style="background-color:yellow">__FILL__</span>=fps NLOW_DIM=2
<span style="color:blue"># Project the remaining trajectory data</span>
osample: <a href="./_p_r_o_j_e_c_t__a_l_l__a_n_a_l_y_s_i_s__d_a_t_a.html" style="color:green">PROJECT_ALL_ANALYSIS_DATA</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> PROJECTION=<span style="background-color:yellow">__FILL__</span>

<span style="color:blue"># This command outputs all the projections of all the points in the low dimensional space</span>
<a href="./_o_u_t_p_u_t__a_n_a_l_y_s_i_s__d_a_t_a__t_o__c_o_l_v_a_r.html" style="color:green">OUTPUT_ANALYSIS_DATA_TO_COLVAR</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> ARG=osample.* FILE=mds_data

<span style="color:blue"># These next three commands calculate the secondary structure variables.  These</span>
<span style="color:blue"># variables measure how much of the structure resembles an alpha helix, an antiparallel beta sheet</span>
<span style="color:blue"># and a parallel beta sheet.  Configurations that have different secondary structures should be projected</span>
<span style="color:blue"># in different parts of the low dimensional space.</span>
alpha: <a href="./_a_l_p_h_a_r_m_s_d.html" style="color:green">ALPHARMSD</a> RESIDUES=all
abeta: <a href="./_a_n_t_i_b_e_t_a_r_m_s_d.html" style="color:green">ANTIBETARMSD</a> RESIDUES=all STRANDS_CUTOFF=1.0
pbeta: <a href="./_p_a_r_a_b_e_t_a_r_m_s_d.html" style="color:green">PARABETARMSD</a> RESIDUES=all STRANDS_CUTOFF=1.0

<span style="color:blue"># These commands collect and output the secondary structure variables so that we can use this information to</span>
<span style="color:blue"># determine how good our projection of the trajectory data is.</span>
cc2: <a href="./_c_o_l_l_e_c_t__f_r_a_m_e_s.html" style="color:green">COLLECT_FRAMES</a> ARG=alpha,abeta,pbeta
<a href="./_o_u_t_p_u_t__a_n_a_l_y_s_i_s__d_a_t_a__t_o__c_o_l_v_a_r.html" style="color:green">OUTPUT_ANALYSIS_DATA_TO_COLVAR</a> USE_OUTPUT_DATA_FROM=cc2 ARG=cc2.* FILE=secondary_structure_data
</pre><p>This input collects all the torsional angles for the configurations in the trajectory. Then, at the end of the calculation, the matrix of distances between these points is computed and a set of landmark points is selected using a method known as farthest point sampling. A matrix that contains only those distances between the landmarks is then constructed and diagonalized by the <a class="el" href="_c_l_a_s_s_i_c_a_l__m_d_s.html">CLASSICAL_MDS</a> action so that projections of the landmarks can be constructed. The final step is then to project the remainder of the trajectory using the <a class="el" href="_p_r_o_j_e_c_t__a_l_l__a_n_a_l_y_s_i_s__d_a_t_a.html">PROJECT_ALL_ANALYSIS_DATA</a> action. Try to fill in the blanks in the input above and run this calculation now using the command:</p>
<pre class="fragment">plumed driver --mf_dcd traj.dcd
</pre><p>Once the calculation has completed you can, once again, visualize the data generated using the GISMO plugin.</p>
<h2><a class="anchor" id="lugano-5-smap"></a>
Performing sketch-map</h2>
<p>The two algorithms (PCA and MDS) that we have looked at thus far are both linear dimensionality reduction algorithms. In addition to these there are a whole class of non-linear dimensionality reduction reduction algorithms which work by transforming the matrix of dissimilarities between configurations, calculating geodesic rather than Euclidean distances between configurations or by changing the form of the loss function that is optimized. In this final exercise we are going to use an algorithm that uses the last of the these three strategies to construct a non-linear projection. The algorithm is known as sketch-map and an input for sketch-map is provided below:</p>
<pre class="fragment">
<span style="color:blue"># This reads in the template pdb file and thus allows us to use the @nonhydrogens</span>
<span style="color:blue"># special group later in the input</span>
<a href="./_m_o_l_i_n_f_o.html" style="color:green">MOLINFO</a> STRUCTURE=<span style="background-color:yellow">__FILL__</span> MOLTYPE=protein

<span style="color:blue"># This stores the positions of all the nonhydrogen atoms for later analysis</span>
cc: <a href="./_c_o_l_l_e_c_t__f_r_a_m_e_s.html" style="color:green">COLLECT_FRAMES</a> <span style="background-color:yellow">__FILL__</span>=@nonhydrogens
<span style="color:blue"># This should output the atomic positions for the frames that were collected and analyzed using MDS</span>
<a href="./_o_u_t_p_u_t__a_n_a_l_y_s_i_s__d_a_t_a__t_o__p_d_b.html" style="color:green">OUTPUT_ANALYSIS_DATA_TO_PDB</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> FILE=traj.pdb

<span style="color:blue"># The following commands compute all the Ramachandran angles of the protein for you</span>
r2-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> ATOMS=@phi-2
r2-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> ATOMS=@psi-2
r3-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> ATOMS=@phi-3
r3-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> ATOMS=@psi-3
r4-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r4-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r5-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r5-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r6-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r6-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r7-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r7-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r8-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r8-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r9-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r9-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r10-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r10-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r11-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r11-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r12-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r12-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r13-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r13-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r14-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r14-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r15-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r15-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r16-phi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 
r16-psi: <a href="./_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <span style="background-color:yellow">__FILL__</span> 

<span style="color:blue"># This command stores all the Ramachandran angles that were computed</span>
angles: <a href="./_c_o_l_l_e_c_t__f_r_a_m_e_s.html" style="color:green">COLLECT_FRAMES</a> <span style="background-color:yellow">__FILL__</span>=r2-phi,r2-psi,r3-phi,r3-psi,r4-phi,r4-psi,r5-phi,r5-psi,r6-phi,r6-psi,r7-phi,r7-psi,r8-phi,r8-psi,r9-phi,r9-psi,r10-phi,r10-psi,r11-phi,r11-psi,r12-phi,r12-psi,r13-phi,r13-psi,r14-phi,r14-psi,r15-phi,r15-psi,r16-phi,r16-psi
<span style="color:blue"># Lets now compute the matrix of distances between the frames in the space of the Ramachandran angles</span>
distmat: <a href="./_e_u_c_l_i_d_e_a_n__d_i_s_s_i_m_i_l_a_r_i_t_i_e_s.html" style="color:green">EUCLIDEAN_DISSIMILARITIES</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> METRIC=EUCLIDEAN
<span style="color:blue"># Now select 500 landmark points to analyze</span>
fps: <a href="./_l_a_n_d_m_a_r_k__s_e_l_e_c_t__f_p_s.html" style="color:green">LANDMARK_SELECT_FPS</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> NLANDMARKS=500
<span style="color:blue"># Run sketch-map on the landmarks</span>
smap: <a href="./_s_k_e_t_c_h__m_a_p.html" style="color:green">SKETCH_MAP</a> <span style="background-color:yellow">__FILL__</span>=fps NLOW_DIM=2 HIGH_DIM_FUNCTION={SMAP R_0=6 A=8 B=2} LOW_DIM_FUNCTION={SMAP R_0=6 A=2 B=2} CGTOL=1E-3 CGRID_SIZE=20 FGRID_SIZE=200 ANNEAL_STEPS=0
<span style="color:blue"># Project the remaining trajectory data</span>
osample: <a href="./_p_r_o_j_e_c_t__a_l_l__a_n_a_l_y_s_i_s__d_a_t_a.html" style="color:green">PROJECT_ALL_ANALYSIS_DATA</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> PROJECTION=<span style="background-color:yellow">__FILL__</span>

<span style="color:blue"># This command outputs all the projections of all the points in the low dimensional space</span>
<a href="./_o_u_t_p_u_t__a_n_a_l_y_s_i_s__d_a_t_a__t_o__c_o_l_v_a_r.html" style="color:green">OUTPUT_ANALYSIS_DATA_TO_COLVAR</a> USE_OUTPUT_DATA_FROM=<span style="background-color:yellow">__FILL__</span> ARG=osample.* FILE=smap_data

<span style="color:blue"># These next three commands calculate the secondary structure variables.  These</span>
<span style="color:blue"># variables measure how much of the structure resembles an alpha helix, an antiparallel beta sheet</span>
<span style="color:blue"># and a parallel beta sheet.  Configurations that have different secondary structures should be projected</span>
<span style="color:blue"># in different parts of the low dimensional space.</span>
alpha: <a href="./_a_l_p_h_a_r_m_s_d.html" style="color:green">ALPHARMSD</a> RESIDUES=all
abeta: <a href="./_a_n_t_i_b_e_t_a_r_m_s_d.html" style="color:green">ANTIBETARMSD</a> RESIDUES=all STRANDS_CUTOFF=1.0
pbeta: <a href="./_p_a_r_a_b_e_t_a_r_m_s_d.html" style="color:green">PARABETARMSD</a> RESIDUES=all STRANDS_CUTOFF=1.0

<span style="color:blue"># These commands collect and output the secondary structure variables so that we can use this information to</span>
<span style="color:blue"># determine how good our projection of the trajectory data is.</span>
cc2: <a href="./_c_o_l_l_e_c_t__f_r_a_m_e_s.html" style="color:green">COLLECT_FRAMES</a> ARG=alpha,abeta,pbeta
<a href="./_o_u_t_p_u_t__a_n_a_l_y_s_i_s__d_a_t_a__t_o__c_o_l_v_a_r.html" style="color:green">OUTPUT_ANALYSIS_DATA_TO_COLVAR</a> USE_OUTPUT_DATA_FROM=cc2 ARG=cc2.* FILE=secondary_structure_data
</pre><p>This input collects all the torsional angles for the configurations in the trajectory. Then, at the end of the calculation, the matrix of distances between these points is computed and a set of landmark points is selected using a method known as farthest point sampling. A matrix that contains only those distances between the landmarks is then constructed and diagonalized by the <a class="el" href="_c_l_a_s_s_i_c_a_l__m_d_s.html">CLASSICAL_MDS</a> action and this set of projections is used as the initial configuration for the various minimization algorithms that are then used to optimize the sketch-map stress function. As in the previous exercise once the projections of the landmarks are found the projections for the remainder of the points in the trajectory are found by using the <a class="el" href="_p_r_o_j_e_c_t__a_l_l__a_n_a_l_y_s_i_s__d_a_t_a.html">PROJECT_ALL_ANALYSIS_DATA</a> action. Try to fill in the blanks in the input above and run this calculation now using the command:</p>
<pre class="fragment">plumed driver --mf_dcd traj.dcd
</pre><p>Once the calculation has completed you can, once again, visualize the data generated using the GISMO plugin.</p>
<h1><a class="anchor" id="lugano-5-extensions"></a>
Conclusions and extensions</h1>
<p>This tutorial shown you that running dimensionality reduction algorithms using PLUMED involves the following stages:</p>
<ul>
<li>Data is collected from the trajectory using <a class="el" href="_c_o_l_l_e_c_t__f_r_a_m_e_s.html">COLLECT_FRAMES</a>.</li>
<li>Landmark points are selected using a <a class="el" href="_analysis.html#landmarks">Landmark Selection</a> algorithm</li>
<li>The distances between the trajectory frames are computed using <a class="el" href="_e_u_c_l_i_d_e_a_n__d_i_s_s_i_m_i_l_a_r_i_t_i_e_s.html">EUCLIDEAN_DISSIMILARITIES</a></li>
<li>A loss function is optimized in order to generate projections of the landmarks. <br />
- Projections of the non-landmark points are generated using <a class="el" href="_p_r_o_j_e_c_t__a_l_l__a_n_a_l_y_s_i_s__d_a_t_a.html">PROJECT_ALL_ANALYSIS_DATA</a>.</li>
</ul>
<p>There are multiple choices to be made in each of the various stages described above. For example, you can change the particular sort of data this is collected from the trajectory, there are multiple different ways to select landmarks, you can use the distances directly or you can transform them, you can use various different loss function and you can optimize the loss function using a variety of different algorithms. In this final exercise of the tutorial I thus want you to experiment with these various different choices that can be made. Use the data set that we have been working with throughout this tutorial and try to construct an interesting representation of it using some combination of Actions that we have not explored in the tutorial. Some things you can perhaps try:</p>
<ul>
<li>Try sketch-map with RMSD distances as input rather than angles</li>
<li>Try using different <a class="el" href="_analysis.html#landmarks">Landmark Selection</a> algorithms</li>
<li>Try using different numbers of landmarks</li>
<li>Try to use PCA followed by sketch-map</li>
<li>See if you can work out how to draw contour plot showing the free energy as a function of the low-dimensional coordinates. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="tutorials.html">Tutorials</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
